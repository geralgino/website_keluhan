<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href='https://fonts.googleapis.com/css?family=Poppins' rel='stylesheet'>
    <link rel="stylesheet" href="style.css">

    <script src="https://code.jquery.com/jquery-3.6.1.min.js"
        integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script>

    <style>
        font-face {
            font-family: 'Poppins';
        }

        .logo {
            width: 80%;
        }

        .text-sub-hero {
            font-size: 28px;
        }

        .content {
            margin-top: 3em;
        }
    </style>

    <title>Login</title>
</head>

<body>

    <!-- Navbar -->
    <div id="navbar"></div>
    <!-- Navbar -->

    <section class="vh-100">
        <div class="container-fluid h-custom">
            <div class="row d-flex justify-content-center align-items-center h-100">
                <div class="col-md-9 col-lg-6 col-xl-5">
                    <img src="assets/keluh.jpg" class="img-fluid" alt="Sample image">
                </div>
                <div class="col-md-8 col-lg-6 col-xl-4 offset-xl-1">
                    <!--<form name="formLogin" method="post" onsubmit="return validateForm()">-->
                    <div class="divider d-flex align-items-center my-4">
                        <p class="text-center fw-bold mx-3 mb-0">MASUK</p>
                    </div>
                    <div class="form-group mb-4">
                        <label>Email</label>
                        <input type="email" name="email" id="email" class="form-control form-control-lg">

                    </div>
                    <div class="form-group mb-4">
                        <label>Password</label>
                        <input type="password" name="password" id="password" class="form-control form-control-lg">

                    </div>
                    <div class="d-flex justify-content-between align-items-center">
                        <div class="mb-0">
                            <div class="text-center text-lg-start mt-4 pt-2">
                                <button onclick="login();" class="btn btn-primary btn-lg"
                                    style="padding-left: 2.5rem; padding-right: 2.5rem;">Masuk</button>
                                <p class="small fw-bold mt-2 pt-1 mb-0">Belum Terdaftar? <a
                                        href="/register.html">Daftar</a></p>
                            </div>
                        </div>
                        <a href="/forgotpassword.html" class="text-body">Lupa Password?</a>
                    </div>
                    <!--</form>-->

                </div>
            </div>
        </div>

    </section>
    



    <!-- Footer -->
    <div id="footer" style="margin-top: 200px;"></div>
    <!-- Footer -->

</body>

</html>



<script>
    $(function () {
        $("#navbar").load("navbar.html");
        $("#footer").load("footer.html");
    })
    function validateForm() {
        let valid = true;
        if ($("#email").val() == "") {
            alert("Email Tidak Boleh Kosong");
            //document.forms["formLogin"]["email"].focus();
            valid = false;
        }
        if ($("#password").val() == "") {
            alert("Password Tidak Boleh Kosong");
            //document.forms["formLogin"]["password"].focus();
            valid = false;
        }
        return valid;

    }

    function login() {

        if (validateForm()) {

            //buka loading animation

            let payload = {
                "email": $("#email").val(),
                "password": $("#password").val(),
                //"mode": "cookie"
            };
            console.log(payload);
            $.ajax({
                "url": "https://kkiz0wxz.directus.app/auth/login",
                "type": "POST",
                "data": JSON.stringify(payload),
                "contentType": "application/json",
                "success": function (resp) {
                    console.log(resp);

                    //tutup animation
                }
                //on error
            });
        }
    }
</script>